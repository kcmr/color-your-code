<link rel="import" href="../../bower_components/polymer/polymer-element.html">
<link rel="import" href="../../bower_components/polymer/lib/elements/dom-repeat.html">
<link rel="import" href="../cyc-mixins/cyc-utils-mixin.html">
<link rel="import" href="../cyc-styles/cyc-shared-styles.html">
<link rel="import" href="../cyc-icons/cyc-icons.html">

<dom-module id="cyc-theme-editor">
  <template>
    <link rel="stylesheet" href="cyc-theme-editor.css" include="cyc-shared-styles" inline>

    <form class="form" on-change="_onFormChange" on-reset="_onFormReset" on-submit="_onFormSubmit">
      <input class="sr-only" id="inputColor"
        type="color"
        value="{{_currentEditedThemeProperty.value::input}}"
        on-input="_updateTheme"
        on-change="_updateTheme">

      <div class="form-actions">
        <button class="btn" type="reset" title="Discard all changes" disabled="[[!_formChanged]]">
          <iron-icon icon="cyc:trash"></iron-icon>
        </button>
        <button class="btn" id="btnUndo" type="button" title="Undo" on-click="_undo" disabled="[[!_editHistory.length]]">
          <iron-icon icon="cyc:undo"></iron-icon>
        </button>
        <button class="btn" type="submit" disabled="[[!_formChanged]]" title="Download theme">
          <iron-icon icon="cyc:download"></iron-icon>
        </button>
        <a download="theme.json" id="downloadLink" target="_self" hidden></a>
      </div>
    </form>
  </template>

  <script src="cyc-theme-editor.js"></script>
</dom-module>
