<link rel="import" href="../../bower_components/polymer/lib/utils/mixin.html">

<script>
  // @namespace ColorYourCode
  window.ColorYourCode = window.ColorYourCode || {};

  /**
   * Mixin to highlight elements with the current `highlight` property as `data-prop` attribute value.
   * @memberof ColorYourCode
   * @polymer
   * @mixinFunction
   */
  ColorYourCode.HighlightMixin = Polymer.dedupingMixin((superClass) => class extends superClass {
    static get properties() {
      return {
        // Name of the UI item to highlight.
        highlight: {
          type: String,
          observer: '_highlightSection',
        },
      };
    }

    _highlightSection(prop) {
      if (!this._uis) {
        this._uis = this.shadowRoot.querySelectorAll('[data-prop]');
      }
      for (const ui of this._uis) {
        ui.classList.toggle('highlight', ui.dataset.prop === prop);
      }
    }
  });
</script>
